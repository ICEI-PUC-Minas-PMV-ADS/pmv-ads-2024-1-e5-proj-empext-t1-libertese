@model Libertese.ViewModels.VendaCreateViewModel
@using Libertese.Domain.Enums
@using Microsoft.AspNetCore.Mvc.TagHelpers

@{
    ViewData["Title"] = "Nova Venda";
    Layout = "~/Views/Shared/_LayoutProdutos.cshtml";
}

<head>
    <meta charset="utf-8" />
    <title>Autocomplete Example</title>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
</head>


<body class="font-inter antialiased bg-slate-100 dark:bg-slate-900 text-slate-600 dark:text-slate-400">
    <div class="flex h-[100dvh] overflow-visible">
        <div class="relative flex flex-col flex-1 overflow-y-visible overflow-x-visible bg-white dark:bg-slate-900">
            <main class="grow">
                <div class="px-4 sm:px-6 lg:px-8 pt-8 w-full max-w-9xl mx-auto">
                    <div class="mb-1">
                        <div class="flex items-center justify-between">
                            <h2 class="text-2xl md:text-3xl text-slate-800 dark:text-slate-100 font-bold">Registro de Venda</h2>
                            <a asp-action="Index" class="btn bg-orange-500 hover:bg-orange-600 text-white ml-3 rounded-lg w-24">Voltar</a>
                        </div>
                        
                    </div>
                </div>
                <form id="ProdutoForm" asp-action="Create">
                <div class="px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto">
                        <div class="mb-1">
                            <h4 class="text-xl md:text-xl text-slate-800 dark:text-slate-100 font-bold">Informações básicas</h4>
                        </div>
                    <div class="border-t border-slate-200 dark:border-slate-700">
                        <div class="space-y-8 mt-5">
                            <div>
                                <div class="grid gap-5 md:grid-cols-2">
                                    <div>
                                        <div>
                                                <div class="flex items-center justify-between">
                                                    <label asp-for="ClienteId" class="block text-sm font-medium mb-1" for="tooltip"></label>
                                                    <div class="relative ml-2"
                                                         x-data="{ open: false }"
                                                         @@mouseenter="open = true"
                                                         @@mouseleave="open = false">
                                                        <button class="block"
                                                                aria-haspopup="true"
                                                                :aria-expanded="open"
                                                                @@focus="open = true"
                                                                @@focusout="open = false"
                                                                @@click.prevent>
                                                            <svg class="w-4 h-4 fill-current text-slate-400 dark:text-slate-500" viewBox="0 0 16 16">
                                                                <path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z" />
                                                            </svg>
                                                        </button>
                                                        <div class="z-10 absolute bottom-full left-1/2 -translate-x-1/2">
                                                            <div class="min-w-60 bg-slate-800 text-slate-200 px-2 py-1 rounded overflow-hidden mb-2"
                                                                 x-show="open"
                                                                 x-transition:enter="transition ease-out duration-200 transform"
                                                                 x-transition:enter-start="opacity-0 translate-y-2"
                                                                 x-transition:enter-end="opacity-100 translate-y-0"
                                                                 x-transition:leave="transition ease-out duration-200"
                                                                 x-transition:leave-start="opacity-100"
                                                                 x-transition:leave-end="opacity-0"
                                                                 x-cloak>
                                                                <div class="text-sm">Cliente em que a venda será associada.</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <input class="form-input w-full" type="text" asp-for="SearchCliente" />
                                                <input style="display: none;" asp-for="ClienteId" />
                                                <span asp-validation-for="ClienteId" class="text-xs mt-1 text-rose-500"></span>
                                            
                                        </div>
                                    </div>
                                    <div>
                                            <div>
                                                <div class="flex items-center justify-between">
                                                    <label asp-for="FormaPagamentoId" class="block text-sm font-medium mb-1" for="tooltip"></label>
                                                    <div class="relative ml-2"
                                                         x-data="{ open: false }"
                                                         @@mouseenter="open = true"
                                                         @@mouseleave="open = false">
                                                        <button class="block"
                                                                aria-haspopup="true"
                                                                :aria-expanded="open"
                                                                @@focus="open = true"
                                                                @@focusout="open = false"
                                                                @@click.prevent>
                                                            <svg class="w-4 h-4 fill-current text-slate-400 dark:text-slate-500" viewBox="0 0 16 16">
                                                                <path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z" />
                                                            </svg>
                                                        </button>
                                                        <div class="z-10 absolute bottom-full left-1/2 -translate-x-1/2">
                                                            <div class="min-w-60 bg-slate-800 text-slate-200 px-2 py-1 rounded overflow-hidden mb-2"
                                                                 x-show="open"
                                                                 x-transition:enter="transition ease-out duration-200 transform"
                                                                 x-transition:enter-start="opacity-0 translate-y-2"
                                                                 x-transition:enter-end="opacity-100 translate-y-0"
                                                                 x-transition:leave="transition ease-out duration-200"
                                                                 x-transition:leave-start="opacity-100"
                                                                 x-transition:leave-end="opacity-0"
                                                                 x-cloak>
                                                                <div class="text-sm">Seleciona uma forma de pagamento.</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <select class="form-input w-full"  asp-for="FormaPagamentoId">
                                                    <option value="0">Selecione a forma de pagamento</option>
                                                    @foreach (var item in Model.FormaPagamento)
                                                    {
                                                        string nome = item.Descricao;
                                                        <option value="@(item.Id)">@nome</option>
                                                    }
                                                </select>
                                           
                                                <span asp-validation-for="FormaPagamentoId" class="text-xs mt-1 text-rose-500"></span>

                                            </div>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto">
                        <div class="mb-1">
                            <h4 class="text-xl md:text-xl text-slate-800 dark:text-slate-100 font-bold">Itens</h4>
                        </div>
                        <div class="border-t border-slate-200 dark:border-slate-700">
                            <div class="space-y-8 mt-5">
                                <div>
                                    <div class="grid gap-5 md:grid-cols-2 mb-10">
                                        <div>
                                            <div>
                                                <div class="flex items-center justify-between">
                                                    <label asp-for="ProdutoId" class="block text-sm font-medium mb-1" for="tooltip"></label>
                                                    <div class="relative ml-2"
                                                         x-data="{ open: false }"
                                                         @@mouseenter="open = true"
                                                         @@mouseleave="open = false">
                                                        <button class="block"
                                                                aria-haspopup="true"
                                                                :aria-expanded="open"
                                                                @@focus="open = true"
                                                                @@focusout="open = false"
                                                                @@click.prevent>
                                                            <svg class="w-4 h-4 fill-current text-slate-400 dark:text-slate-500" viewBox="0 0 16 16">
                                                                <path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z" />
                                                            </svg>
                                                        </button>
                                                        <div class="z-10 absolute bottom-full left-1/2 -translate-x-1/2">
                                                            <div class="min-w-60 bg-slate-800 text-slate-200 px-2 py-1 rounded overflow-hidden mb-2"
                                                                 x-show="open"
                                                                 x-transition:enter="transition ease-out duration-200 transform"
                                                                 x-transition:enter-start="opacity-0 translate-y-2"
                                                                 x-transition:enter-end="opacity-100 translate-y-0"
                                                                 x-transition:leave="transition ease-out duration-200"
                                                                 x-transition:leave-start="opacity-100"
                                                                 x-transition:leave-end="opacity-0"
                                                                 x-cloak>
                                                                <div class="text-sm">Escolha o produto que deseja incluir no registro venda.</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <input style="display: none;" name="ProdutoId" id="ProdutoId" />
                                                <input style="display: none;" name="ProdutoNome" id="ProdutoNome" />
                                                <input style="display: none;" name="ProdutoPreco" id="ProdutoPreco" />
                                                <input style="display: none;" name="ProdutoValorTotal" id="ProdutoValorTotal" />
                                                <input style="display: none;" name="Produto" id="Produto" />
                                                <input style="display: none;" asp-for="ProdutosJson" />
                                                <input class="form-input w-full" type="text" id="SearchProduto" />
                                            </div>
                                        </div> 
                                        <div>
                                            <div>
                                                <div class="flex items-center justify-between">
                                                    <label asp-for="Quantidade" class="block text-sm font-medium mb-1" for="tooltip"></label>
                                                    <div></div>
                                                    <div></div>
                                                    <div></div>
                                                    <div class="relative ml-2"
                                                         x-data="{ open: false }"
                                                         @@mouseenter="open = true"
                                                         @@mouseleave="open = false">
                                                        <button class="block"
                                                                aria-haspopup="true"
                                                                :aria-expanded="open"
                                                                @@focus="open = true"
                                                                @@focusout="open = false"
                                                                @@click.prevent>
                                                            <svg class="w-4 h-4 fill-current text-slate-400 dark:text-slate-500" viewBox="0 0 16 16">
                                                                <path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z" />
                                                            </svg>
                                                        </button>
                                                        <div class="z-10 absolute bottom-full left-1/2 -translate-x-1/2">
                                                            <div class="min-w-60 bg-slate-800 text-slate-200 px-2 py-1 rounded overflow-hidden mb-2"
                                                                 x-show="open"
                                                                 x-transition:enter="transition ease-out duration-200 transform"
                                                                 x-transition:enter-start="opacity-0 translate-y-2"
                                                                 x-transition:enter-end="opacity-100 translate-y-0"
                                                                 x-transition:leave="transition ease-out duration-200"
                                                                 x-transition:leave-start="opacity-100"
                                                                 x-transition:leave-end="opacity-0"
                                                                 x-cloak>
                                                                <div class="text-sm">Escolha a quantidade para o produto selecionado e clique em incluir.</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div></div>
                                                </div>
                                                <div class="flex items-center space-x-5">
                                                    <input name="ProdutoQuantidade" id="ProdutoQuantidade" class="form-input w-full" type="number" />
                                                    <button id="addProduto" class="btn bg-orange-800 hover:bg-orange-900 text-white rounded-lg w-32">
                                                        <svg class="w-4 h-4 fill-current opacity-50 shrink-0" viewBox="0 0 16 16">
                                                            <path d="M15 7H9V1c0-.6-.4-1-1-1S7 .4 7 1v6H1c-.6 0-1 .4-1 1s.4 1 1 1h6v6c0 .6.4 1 1 1s1-.4 1-1V9h6c.6 0 1-.4 1-1s-.4-1-1-1z" />
                                                        </svg>
                                                        <span class="hidden xs:block ml-2">Incluir</span>
                                                    </button>
                                                </div>
                                                <span asp-validation-for="Quantidade" class="text-xs mt-1 text-rose-500"></span>
                                                
                                            </div>
                                        </div>
                                    </div>

                                    <div class="bg-white dark:bg-slate-800 shadow-lg rounded-sm border border-slate-200 dark:border-slate-700 mb-0">
                                       
                                        <div x-data="{ modalDeletarOpen: false, modalVisualizarOpen: false, tableIndex: 0 }">
                                            <div class="overflow-x-auto">
                                                <table id="produtosTable" class="table-auto w-full dark:text-slate-300">
                                                    <thead class="text-xs font-semibold uppercase text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-900/20 border-t border-b border-slate-200 dark:border-slate-700">
                                                        <tr>
                                                            <th class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
                                                                <div class="font-semibold text-left">Código</div>
                                                            </th>
                                                            <th class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
                                                                <div class="font-semibold text-left">Nome</div>
                                                            </th>
                                                            <th class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
                                                                <div class="font-semibold text-left">Quantidade</div>
                                                            </th>
                                                            <th class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
                                                                <div class="font-semibold text-left">Preço</div>
                                                            </th>
                                                            <th class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
                                                                <div class="font-semibold text-left">Total</div>
                                                            </th>
                                                         
                                                            <th class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
                                                                <div class="font-semibold text-left">Ações</div>
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="text-sm divide-y divide-slate-200 dark:divide-slate-700">
                                                        @for (var i = 0; i < Model.Produtos.Count; i++)
                                                        {
                                                            <tr>
                                                                <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap"><div class="font-medium text-sky-500">@Model.Produtos[i].Id</div></td>
                                                                <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap"><div class="font-medium text-slate-800 dark:text-slate-100">@Model.Produtos[i].Nome</div></td>
                                                                <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap"><div class="font-medium text-slate-800 dark:text-slate-100">@Model.Produtos[i].Quantidade</div></td>
                                                                <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap"><div class="font-medium text-slate-800 dark:text-slate-100">R$ @Model.Produtos[i].Preco</div></td>
                                                                <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap"><div class="font-medium text-slate-800 dark:text-slate-100">R$ @Model.Produtos[i].ValorTotal</div></td>
                                                                <td x-data="{ modalDeletarOpen: false, modalVisualizarOpen: false }" class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px">
                                                                    <div class="space-x-1">
                                                                        <button type="button" class="removeProduto text-rose-500 hover:text-rose-600 rounded-full">
                                                                            <span class="sr-only">Deletar</span>
                                                                            <svg class="w-8 h-8 fill-current" viewBox="0 0 32 32">
                                                                                <path d="M13 15h2v6h-2zM17 15h2v6h-2z" />
                                                                                <path d="M20 9c0-.6-.4-1-1-1h-6c-.6 0-1 .4-1 1v2H8v2h1v10c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V13h1v-2h-4V9zm-6 1h4v1h-4v-1zm7 3v9H11v-9h10z" />
                                                                            </svg>
                                                                        </button>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        }

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <header class="py-4 flex items-center justify-between">
                                        <span asp-validation-for="Produtos" class="text-xs mt-1 text-rose-500"></span>
                                        <h2 class="font-bold text-2xl text-slate-800 dark:text-slate-100 ">Total R$ <span name="totalDeProdutos" id="totalDeProdutos" class="font-bold text-2xl text-rose-500 dark:text-rose-600 font-medium">0</span></h2>
                                    </header>
                                </div>
                                <footer>
                                    <div class="flex flex-col px-6 py-5 border-t border-slate-200 dark:border-slate-700">
                                        <div class="flex self-center">
                                            <button id="submitForm" name="submitForm" type="submit" value="Salvar" class="btn bg-slate-900 hover:bg-orange-600 text-white ml-3 rounded-lg w-32">Confirmar</button>
                                        </div>
                                    </div>
                                </footer>
                            </div>

                        </div>
                    </div>
                </form>
            </main>
        </div>
    </div>
</body>
<script type="text/javascript">

      $("#SearchCliente").autocomplete({
        source: function (request, response) {
            $.ajax({
                url: '@Url.Action("SearchByText", "Clientes")',
                dataType: "json",
                data: { searchString: $("#SearchCliente").val() },
                success: function (data) {
                    response($.map(data, function (item) {
                        return {label: `${item.id} - ${item.nome}`, value: item.id, };
                    }))
                },
                error: function (xhr, status, error) {
                    alert("Erro ao buscar cliente, insira um nome valido!");
                }
            })
        },
        select: function (event, ui) {
            $("#SearchCliente").val(ui.item.label);
                 $("#ClienteId").val(ui.item.value);
                 return false;
             }
      })

    $("#SearchProduto").autocomplete({
        source: function (request, response) {
            $.ajax({
                url: '@Url.Action("SearchByText", "Produtos")',
                dataType: "json",
                data: { searchString: $("#SearchProduto").val() },
                success: function (data) {
                    response($.map(data, function (item) {
                        return { label: `${item.id} - ${item.nome}`, value: item, };
                    }))
                },
                error: function (xhr, status, error) {
                    alert("Erro ao buscar produtos, insira uma produto valido!");
                }
            })
        },
        select: function (event, ui) {
            $("#SearchProduto").val(ui.item.label);
            $("#ProdutoId").val(ui.item.value.id);
            $("#ProdutoNome").val(ui.item.value.nome);
            $("#ProdutoQuantidade").val(ui.item.value.quantidade);
            $("#ProdutoPreco").val(ui.item.value.preco);
            $("#ProdutoValorTotal").val(ui.item.value.valorTotal);
            $("#Produto").val(ui.item.value);
            return false;
        }
    })

    $(document).ready(function () {
        $("#addProduto").click(function () {
            var searchProduto = $("#SearchProduto").val();
            var produtoId = $("#ProdutoId").val();
            var nome = $("#ProdutoNome").val();
            var quantidade = $("#ProdutoQuantidade").val();
            var preco = $("#ProdutoPreco").val();
            var valorTotal = $("#ProdutoValorTotal").val();
            var produto = $("#Produto").val();

            var produtoIdExistente = false;
            $("#produtosTable tbody tr").each(function () {
                var idExistente = $(this).attr("id");
                if (idExistente === produtoId) {
                    produtoIdExistente = true;
                    return false; 
                }
            });

            if (produtoIdExistente) {
                alert("Por favor, escolha outro produto o mesmo já existe na lista.");
            
            } else if (produtoId && nome && preco && quantidade && valorTotal) {



                var rowCount = $("#produtosTable tbody tr").length;

                var newRow = `

                                                                   <tr id="${produtoId}">
                                                                <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
                                                                                <div class="font-medium text-sky-500">${produtoId}</div>

                                                                </td>
                                                                <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
                                                                                    <div class="truncate max-w-60ch  font-medium text-slate-800 dark:text-slate-100">${nome}</div>
                                                                </td>
                                                                <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
                                                                        <div class="font-medium text-slate-800 dark:text-slate-100">${quantidade}</div>
                                                                </td>
                                                                <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
                                                                            <div class="font-medium text-slate-800 dark:text-slate-100">R$ ${preco}</div>
                                                                </td>
                                                                <td class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap">
                                                                                    <div class="font-medium text-slate-800 dark:text-slate-100">R$ ${parseFloat((quantidade * preco).toFixed(2))}</div>
                                                                </td>

                                                                <td x-data="{ modalDeletarOpen: false, modalVisualizarOpen: false }" class="px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px">
                                                                    <div class="space-x-1">
                                                                                <button type="button" class="removeProduto text-rose-500 hover:text-rose-600 rounded-full">
                                                                            <span class="sr-only">Deletar</span>
                                                                            <svg class="w-8 h-8 fill-current" viewBox="0 0 32 32">
                                                                                <path d="M13 15h2v6h-2zM17 15h2v6h-2z" />
                                                                                <path d="M20 9c0-.6-.4-1-1-1h-6c-.6 0-1 .4-1 1v2H8v2h1v10c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V13h1v-2h-4V9zm-6 1h4v1h-4v-1zm7 3v9H11v-9h10z" />
                                                                            </svg>
                                                                        </button>
                                                                    </div>
                                                                </td>
                                                                                                         <input type="hidden" name="Produtos[${rowCount}].Id" value="${produtoId} />
                                                                                                         <input type="hidden" name="Produtos[${rowCount}].Nome" value="${nome} />
                                                                                                     <input type="hidden" name="Produtos[${rowCount}].Quantidade" value="${quantidade} />
                                                                                                        <input type="hidden" name="Produtos[${rowCount}].Preco" value="R$ ${preco} />
                                                                                                        <input type="hidden"  name="Produtos[${rowCount}].ValorTotal" value="R$ ${quantidade * preco}  />
                                                                    
                                                            </tr>`;
                $("#produtosTable tbody").append(newRow);

                $("#ProdutoId").val('');
                $("#SearchProduto").val('');
                $("#ProdutoNome").val('');
                $("#ProdutoQuantidade").val('');
                $("#ProdutoPreco").val('');
                $("#ProdutoValorTotal").val('');
                $("#Produto").val('');

                var rows = $("#produtosTable tbody tr");
                var produtos = [];

                for (var i = 0; i < rows.length; i++) {
                    var cells = rows[i].getElementsByTagName('td');
                    var produto = {
                        Id: cells[0].innerText,
                        Nome: cells[1].innerText,
                        Quantidade: cells[2].innerText,
                        Preco: cells[3].innerText.replace('R$ ', ''),
                        ValorTotal: cells[4].innerText.replace('R$ ', '')
                    };
                    produtos.push(produto);
                }

                console.log(produtos)


                var valorTotalProdutos = produtos.reduce((acc, prod) => acc + (prod.Quantidade * prod.Preco), 0);
                valorTotalProdutos = parseFloat(valorTotalProdutos.toFixed(2))

                $("#totalDeProdutos").text(valorTotalProdutos);
                $("#ProdutosJson").val(JSON.stringify(produtos));

            } else {
                alert("Por favor, escolha o produto e quantidade que deseja incluir no registro de venda.");
            }
        });


        $("#produtosTable").on("click", ".removeProduto", function () {
            $(this).closest("tr").remove();
            $("#produtosTable tbody tr").each(function (index, tr) {
                $(tr).find("input[name^='Produtos']").each(function () {
                    var name = $(this).attr("name");
                    var newName = name.replace(/\[\d+\]/, `[${index}]`);
                    $(this).attr("name", newName);
                });
            });

            var produtosJson = $("#ProdutosJson").val()
            var indexToRemove = $(this).closest("tr").index();
            var produtosList = JSON.parse(produtosJson);
            produtosList.splice(indexToRemove, 1);
            $("#totalDeProdutos").text(produtosList.length);
            produtosJson = JSON.stringify(produtosList);
            $("#ProdutosJson").val(produtosJson);
        });

        $("#ProdutoForm").on("submit", function (event) {
            event.preventDefault();
        });

        $("#submitForm").click(function () {
            $("#ProdutoForm").off("submit").submit();
        });
    });


</script>
<style>
    .max-w-60ch {
        max-width: 40ch;
    }

    .max-w-40ch {
        max-width: 40ch;
    }

    .max-w-20ch {
        max-width: 20ch;
    }

    .truncate {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
</style>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}